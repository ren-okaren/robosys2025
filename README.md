# robosys2025

ロボットシステム学（robosys）の練習用リポジトリです。
標準入力（stdin）からデータを受け取り、標準出力（stdout）に結果を出すコマンドを作成しています。

## 必要なソフトウェア

- Python 3
- Bash
- Git

## テスト環境

- Ubuntu 22.04 LTS
- GitHub Actions（ubuntu-latest）

## インストール・準備

以下を実行してリポジトリを取得し、実行権限を付けます。

$ git clone https://github.com/ren-okaren/robosys2025.git
$ cd robosys2025
$ chmod +x plus macprice test.bash

## plus コマンド

標準入力から読み込んだ数値をすべて足し合わせ、合計を標準出力に出力します。

### 使い方

入力は「1行に1つ数値」です。

### 実行例

```bash
$ seq 5 | ./plus
15
```
## macprice コマンド（kcal計算）

カンマ区切りの料理名を標準入力から1行で受け取り、推定カロリー（kcal）の合計を標準出力に出力します。
自分が食べたもののカロリーをざっくり見積もる用途を想定しています。

- 登録済みの料理名はコマンド内のテーブルに定義しています。
- kcalは目安であり、実際の値とは異なる場合があります。

### 使い方

- 入力：カンマ区切りの料理名（1行）
- 出力：合計kcal（1行）

数量指定もできます。

- ラーメン*2（末尾に * / x / × で個数指定）
- 2xヨーグルト（先頭に個数指定）

数値kcalの直接入力もできます。

- 120kcal や 80 のように数値だけを与えると、その値をkcalとして加算します。

### 実行例

```bash
$ printf "カレーライス,サラダ,ブラックコーヒー\n" | ./macprice
975

$ printf "ラーメン*2,りんご\n" | ./macprice
1695

### エラー処理

次の場合はエラーメッセージを標準エラー出力（stderr）に出し、終了ステータス1で終了します。

- 入力が空の場合
- 空行以外が複数行入力された場合（1行入力を想定しているため）
- 未登録の料理名が入力された場合
- 個数指定が不正な場合（0以下など）

## テスト

GitHub Actionsで、pushのたびにテストを実行します。
ローカルでは次で実行できます。

$ ./test.bash
OK

## ライセンス

このリポジトリは BSD 3-Clause License です。
詳細は LICENSE を参照してください。
各ファイル先頭にも SPDX 形式でライセンス情報を記載しています。

## 謝辞

このリポジトリの作成にあたり、高倉圭大さんにレビュー・助言をいただきました。
